<div id="mainDiv" class="block mx-auto my-20 p-8 bg-white w-1/3 border border-gray-200 rounded-lg shadow-lg" >
    <h1 class="text-2xl py-2 font-bold text-center">
        Ingreso de Agencia
    </h1>

    <div  class="w-full py-2 block mx-auto">
        <form id="mainDiv2" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4" action="" method="POST" onsubmit="return showNotification(this)">
            <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="nombre">
                Nombre:
            </label>
            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
             value="{{agencia.nombre}}"  
             name="nombre" type="text" placeholder="Nombre Agencia"/required>
            </div>

            <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="razon_social">
                Razon Social:
            </label>
            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" 
                value="{{agencia.razon_social}}"
                name="razon_social" type="text" placeholder="Razon Social"/required>
            </div>

            <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="nit">
                NIT:
            </label>
            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
             value="{{agencia.NIT}}"
             name="nit" type="text" placeholder="NIT"/required>
            </div>

            <div class="mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2" for="direccion">
                Direccion:
            </label>
             <textarea class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" 
                            name="direccion" placeholder="DirecciÃ³n" rows="4">{{agencia.direccion}}</textarea>
            </div>

        
            <div  class="flex justify-evenly">
            <button
                id="botton"
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-9 rounded focus:outline-none focus:shadow-outline" type="submit">
                Actualizar
            </button>

                <a id="botton2" href="/listar" 
                class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-9 rounded focus:outline-none focus:shadow-outline">Cancelar</a>
            </div>
        </form>

  
   <!-- NOTIFICACION -->
                   <div class="fixed hidden flex items-center justify-between z-10 bottom-0 right-0 mb-4 mr-4 bg-blue-500 text-white py-2 px-4 rounded-md" id="notificacion">
                <div class="flex items-center">
                    <i class="fas fa-sync-alt fa-rotate-180 mr-2"></i>
                    <p class="text-sm">Agencia Actualizada</p>
                </div>
                </div>

                  {{#if error}}
                <div class="fixed flex items-center justify-between z-10 bottom-0 right-0 mb-4 mr-4 bg-red-500 text-white py-2 px-4 rounded-md" id="error">
                    <div class="flex items-center">
                    <i class="fas fa-times-circle mr-2"></i>
                    <p class="text-sm">{{error}}</p>
                    </div>
                </div>
                {{/if}}

    <!-- NOTIFICACION DE ERROR 
                {{#if error}}
                <div class="fixed flex items-center justify-between z-10 bottom-0 right-0 mb-4 mr-4 bg-red-500 text-white py-2 px-4 rounded-md" id="notificacionError">
                    <div class="flex items-center">
                    <i class="fas fa-times-circle mr-2"></i>
                    <p class="text-sm">{{error}}</p>
                    </div>
                </div>
                {{/if}}
   NOTIFICACION DE ERROR -->

</div>
<script>
 function showNotification(form) {
  if (form.checkValidity() && form.getAttribute('data-submitted') !== 'true') {
    
    document.getElementById('notificacion').classList.remove('hidden');
    document.getElementById('botton').classList.add('pointer-events-none');
    document.getElementById('botton2').classList.add('pointer-events-none');
    document.getElementById('mainDiv').classList.add('bg-gray-100');
    document.getElementById('mainDiv2').classList.add('bg-gray-100');
    document.getElementById('error').classList.add('hidden');

    setTimeout(function() {
    document.getElementById('notificacion').classList.add('hidden');
    document.getElementById('botton').classList.remove('pointer-events-none');
    document.getElementById('botton2').classList.remove('pointer-events-none');
    document.getElementById('mainDiv').classList.remove('bg-gray-100');
    document.getElementById('mainDiv2').classList.remove('bg-gray-100');
    }, 3000);

    form.setAttribute('data-submitted', 'true');
  }
}
</script>